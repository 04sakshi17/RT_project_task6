{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saksh\\\\OneDrive\\\\Desktop\\\\task\\\\Chapter06\\\\src\\\\context\\\\HotelsContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useCallback, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HotelsContext = /*#__PURE__*/createContext();\nconst initialState = {\n  hotels: [],\n  hotel: {},\n  loading: true,\n  error: ''\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'GET_HOTELS_SUCCESS':\n      return { ...state,\n        hotels: action.payload,\n        loading: false\n      };\n\n    case 'GET_HOTELS_ERROR':\n      return { ...state,\n        hotels: [],\n        loading: false,\n        error: action.payload\n      };\n\n    case 'GET_HOTEL_SUCCESS':\n      return { ...state,\n        hotel: action.payload,\n        loading: false\n      };\n\n    case 'GET_HOTEL_ERROR':\n      return { ...state,\n        hotel: {},\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const HotelsContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const fetchHotels = useCallback(async () => {\n    try {\n      const data = await fetch(`https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels`);\n      const result = await data.json();\n\n      if (result) {\n        dispatch({\n          type: 'GET_HOTELS_SUCCESS',\n          payload: result\n        });\n      }\n    } catch (e) {\n      dispatch({\n        type: 'GET_HOTELS_ERROR',\n        payload: e.message\n      });\n    }\n  }, []);\n  const fetchHotel = useCallback(async hotelId => {\n    try {\n      const data = await fetch(`https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels/${hotelId}`);\n      const result = await data.json();\n\n      if (result) {\n        dispatch({\n          type: 'GET_HOTEL_SUCCESS',\n          payload: result\n        });\n      }\n    } catch (e) {\n      dispatch({\n        type: 'GET_HOTEL_ERROR',\n        payload: e.message\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(HotelsContext.Provider, {\n    value: { ...state,\n      fetchHotels,\n      fetchHotel\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HotelsContextProvider, \"ie6mvyzEdZheFjiH9srOjr/CAkk=\");\n\n_c = HotelsContextProvider;\nexport default HotelsContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"HotelsContextProvider\");","map":{"version":3,"sources":["C:/Users/saksh/OneDrive/Desktop/task/Chapter06/src/context/HotelsContext.js"],"names":["createContext","useCallback","useReducer","HotelsContext","initialState","hotels","hotel","loading","error","reducer","state","action","type","payload","HotelsContextProvider","children","dispatch","fetchHotels","data","fetch","result","json","e","message","fetchHotel","hotelId"],"mappings":"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","sourcesContent":["import { createContext, useCallback, useReducer } from 'react';\n\nexport const HotelsContext = createContext();\n\nconst initialState = {\n  hotels: [],\n  hotel: {},\n  loading: true,\n  error: '',\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'GET_HOTELS_SUCCESS':\n      return {\n        ...state,\n        hotels: action.payload,\n        loading: false,\n      };\n    case 'GET_HOTELS_ERROR':\n      return {\n        ...state,\n        hotels: [],\n        loading: false,\n        error: action.payload,\n      };\n    case 'GET_HOTEL_SUCCESS':\n      return {\n        ...state,\n        hotel: action.payload,\n        loading: false,\n      };\n    case 'GET_HOTEL_ERROR':\n      return {\n        ...state,\n        hotel: {},\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const HotelsContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const fetchHotels = useCallback(async () => {\n    try {\n      const data = await fetch(\n        `https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels`,\n      );\n      const result = await data.json();\n\n      if (result) {\n        dispatch({ type: 'GET_HOTELS_SUCCESS', payload: result });\n      }\n    } catch (e) {\n      dispatch({ type: 'GET_HOTELS_ERROR', payload: e.message });\n    }\n  }, []);\n\n  const fetchHotel = useCallback(async (hotelId) => {\n    try {\n      const data = await fetch(\n        `https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels/${hotelId}`,\n      );\n      const result = await data.json();\n\n      if (result) {\n        dispatch({ type: 'GET_HOTEL_SUCCESS', payload: result });\n      }\n    } catch (e) {\n      dispatch({ type: 'GET_HOTEL_ERROR', payload: e.message });\n    }\n  }, []);\n\n  return (\n    <HotelsContext.Provider value={{ ...state, fetchHotels, fetchHotel }}>\n      {children}\n    </HotelsContext.Provider>\n  );\n};\n\nexport default HotelsContext;\n"]},"metadata":{},"sourceType":"module"}